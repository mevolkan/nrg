{"mappings":"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","sources":["src/scripts/scripts.js"],"sourcesContent":["// Variables\r\nif (document.getElementById('audiopage')) {\r\n    window.onload = function () {\r\n        // Schedule and time-based image loading\r\n        let hour = new Date().getHours();\r\n        const schedule = [\r\n            './images/breakfast-club.png',\r\n            './images/the-am-show.png',\r\n            './images/nrg-transit.png',\r\n            './images/the-circle.png',\r\n            './images/default.png',\r\n        ];\r\n\r\n        const playBtn = document.getElementById('play');\r\n        const audio = document.getElementById('audio');\r\n        const showImg = document.getElementById('show-img');\r\n        let audioContext = null;\r\n        let analyser = null;\r\n        let animationFrameId = null;\r\n        \r\n        // Canvas setup\r\n        const canvas = document.getElementById('canvas');\r\n        const ctx = canvas.getContext('2d');\r\n        canvas.width = window.innerWidth;\r\n        canvas.height = window.innerHeight;\r\n\r\n        // Set show image based on time\r\n        if (hour >= 6 && hour < 10) {\r\n            showImg.src = schedule[0];\r\n        } else if (hour >= 11 && hour < 14) {\r\n            showImg.src = schedule[1];\r\n        } else if (hour >= 15 && hour < 19) {\r\n            showImg.src = schedule[2];\r\n        } else if (hour >= 20 && hour <= 23) {\r\n            showImg.src = schedule[3];\r\n        } else {\r\n            showImg.src = schedule[4];\r\n        }\r\n\r\n        // Audio setup\r\n        audio.crossOrigin = 'anonymous';\r\n        audio.src = 'https://uksouth.streaming.broadcast.radio/nrg';\r\n\r\n        // Update button state\r\n        function updateButtonState(isPlaying) {\r\n            playBtn.textContent = isPlaying ? \"Playing\" : \"Paused\";\r\n        }\r\n\r\n        // Initialize audio context and analyzer\r\n        function initializeAudio() {\r\n            if (!audioContext) {\r\n                audioContext = new AudioContext();\r\n                const src = audioContext.createMediaElementSource(audio);\r\n                analyser = audioContext.createAnalyser();\r\n                \r\n                src.connect(analyser);\r\n                analyser.connect(audioContext.destination);\r\n                analyser.fftSize = 512;\r\n            }\r\n        }\r\n\r\n        // Render frame function\r\n        function renderFrame() {\r\n            const bufferLength = analyser.frequencyBinCount;\r\n            const dataArray = new Uint8Array(bufferLength);\r\n            const WIDTH = canvas.width;\r\n            const HEIGHT = canvas.height;\r\n            const barWidth = WIDTH / bufferLength;\r\n\r\n            let x = 0;\r\n            analyser.getByteFrequencyData(dataArray);\r\n            ctx.fillStyle = '#000';\r\n            ctx.fillRect(0, 0, WIDTH, HEIGHT);\r\n\r\n            for (let i = 0; i < bufferLength; i++) {\r\n                const barHeight = dataArray[i];\r\n                const r = barHeight + 25 * (i / bufferLength);\r\n                const g = 255 * (i / bufferLength);\r\n                const b = 50;\r\n\r\n                ctx.fillStyle = `rgb(${r}, ${g}, ${b})`;\r\n                ctx.fillRect(x, HEIGHT - barHeight, barWidth, barHeight);\r\n                x += barWidth * 1.5;\r\n            }\r\n\r\n            if (!audio.paused) {\r\n                animationFrameId = requestAnimationFrame(renderFrame);\r\n            }\r\n        }\r\n\r\n        // Start visualization\r\n        function startVisualization() {\r\n            if (!audioContext) {\r\n                initializeAudio();\r\n            }\r\n            if (animationFrameId) {\r\n                cancelAnimationFrame(animationFrameId);\r\n            }\r\n            renderFrame();\r\n        }\r\n\r\n        // Stop visualization\r\n        function stopVisualization() {\r\n            if (animationFrameId) {\r\n                cancelAnimationFrame(animationFrameId);\r\n                animationFrameId = null;\r\n            }\r\n            // Clear canvas\r\n            ctx.fillStyle = '#000';\r\n            ctx.fillRect(0, 0, canvas.width, canvas.height);\r\n        }\r\n\r\n        // Event Listeners for native media controls and button\r\n        audio.addEventListener(\"play\", () => {\r\n            updateButtonState(true);\r\n            startVisualization();\r\n        });\r\n\r\n        audio.addEventListener(\"pause\", () => {\r\n            updateButtonState(false);\r\n            stopVisualization();\r\n        });\r\n\r\n        audio.addEventListener(\"ended\", () => {\r\n            updateButtonState(false);\r\n            stopVisualization();\r\n        });\r\n\r\n        playBtn.addEventListener(\"click\", async () => {\r\n            try {\r\n                if (audio.paused) {\r\n                    await audio.play();\r\n                } else {\r\n                    audio.pause();\r\n                }\r\n            } catch (error) {\r\n                console.error(\"Error handling audio:\", error);\r\n                updateButtonState(false);\r\n                stopVisualization();\r\n            }\r\n        });\r\n\r\n        // Handle window resize\r\n        window.addEventListener('resize', () => {\r\n            canvas.width = window.innerWidth;\r\n            canvas.height = window.innerHeight;\r\n        });\r\n\r\n        // Handle page visibility change\r\n        document.addEventListener('visibilitychange', () => {\r\n            if (document.hidden) {\r\n                if (!audio.paused) {\r\n                    stopVisualization();\r\n                }\r\n            } else if (!audio.paused) {\r\n                startVisualization();\r\n            }\r\n        });\r\n    };\r\n}"],"names":[],"version":3,"file":"video.88db5c57.js.map","sourceRoot":"/__parcel_source_root/"}